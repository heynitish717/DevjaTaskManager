(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{fbRY:function(t,i,e){"use strict";e.r(i),e.d(i,"AssignTaskModule",(function(){return F}));var s=e("tyNb"),r=e("ofXK"),a=e("Mm0v"),n=e("LPYB"),o=e("OWtv"),c=e("XNiG"),d=e("1G5W"),b=e("5+WD"),p=e("jfZ1"),l=e("PSD3"),h=e.n(l),u=e("fXoL"),g=e("7zfz"),m=e("JqCM"),f=e("VJ5I"),k=e("3Pt+");function P(t,i){if(1&t){const t=u.Qb();u.Pb(0,"div",23),u.Pb(1,"p",24),u.Pb(2,"span"),u.Cc(3,"Task Id "),u.Ob(),u.Cc(4),u.Ob(),u.Pb(5,"p",24),u.Pb(6,"span"),u.Cc(7,"Assigned To"),u.Ob(),u.Cc(8),u.Ob(),u.Pb(9,"div",25),u.Wb("click",(function(){u.tc(t);const e=i.$implicit;return u.Yb().ViewTask(e)})),u.Kb(10,"i",26),u.Ob(),u.Ob()}if(2&t){const t=i.$implicit;u.yb(4),u.Ec("- ",t.id,""),u.yb(4),u.Ec(" - ",t.assigned_name,"")}}function O(t,i){if(1&t){const t=u.Qb();u.Pb(0,"div",23),u.Pb(1,"p",24),u.Pb(2,"span"),u.Cc(3,"Task Id "),u.Ob(),u.Cc(4),u.Ob(),u.Pb(5,"p",24),u.Pb(6,"span"),u.Cc(7,"Assigned To"),u.Ob(),u.Cc(8),u.Ob(),u.Pb(9,"div",25),u.Wb("click",(function(){u.tc(t);const e=i.$implicit;return u.Yb().ViewTask(e)})),u.Kb(10,"i",26),u.Ob(),u.Ob()}if(2&t){const t=i.$implicit;u.yb(4),u.Ec("- ",t.id,""),u.yb(4),u.Ec(" - ",t.assigned_name,"")}}function v(t,i){if(1&t){const t=u.Qb();u.Pb(0,"div",23),u.Pb(1,"p",24),u.Pb(2,"span"),u.Cc(3,"Task Id "),u.Ob(),u.Cc(4),u.Ob(),u.Pb(5,"p",24),u.Pb(6,"span"),u.Cc(7,"Assigned To"),u.Ob(),u.Cc(8),u.Ob(),u.Pb(9,"div",25),u.Wb("click",(function(){u.tc(t);const e=i.$implicit;return u.Yb().ViewTask(e)})),u.Kb(10,"i",26),u.Ob(),u.Ob()}if(2&t){const t=i.$implicit;u.yb(4),u.Ec("- ",t.id,""),u.yb(4),u.Ec(" - ",t.assigned_name,"")}}const y=function(t,i){return[t,i]};let D=(()=>{class t{constructor(t,i,e,s,r,a,n,o,d){this.commonMethodService=t,this.commonDataService=i,this.mastersService=e,this.el=s,this.router=r,this.primeNgMessageService=a,this.notificationService=n,this.spinner=o,this.cd=d,this.onDestroy=new c.a,this.taskList=[]}ngOnInit(){this.highPriorityTaskList=[],this.mediumPriorityTaskList=[],this.lowPriorityTaskList=[],null==this.commonDataService.oClientConfigurationsFromJsonFile&&null!=localStorage.getItem("config")&&(this.commonDataService.oClientConfigurationsFromJsonFile=JSON.parse(localStorage.getItem("config"))),null==this.commonDataService.taskList?null!=localStorage.getItem("taskList")&&(this.taskList=JSON.parse(localStorage.getItem("taskList"))):this.taskList=this.commonDataService.taskList,this.taskList.length>0?(this.highPriorityTaskList=this.taskList.filter(t=>"1"==t.priority),this.mediumPriorityTaskList=this.taskList.filter(t=>"2"==t.priority),this.lowPriorityTaskList=this.taskList.filter(t=>"3"==t.priority)):(this.highPriorityTaskList=[],this.mediumPriorityTaskList=[],this.lowPriorityTaskList=[])}ngAfterViewInit(){}RouteToPage(t){this.router.navigate(["/modify/update"])}drop(t){t.previousContainer!==t.container&&(Object(b.d)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex),"dropList1"==t.container.id?(this.droppedItem=this.highPriorityTaskList[t.currentIndex],this.droppedItem.priority="1"):"dropList2"==t.container.id?(this.droppedItem=this.mediumPriorityTaskList[t.currentIndex],this.droppedItem.priority="2"):"dropList3"==t.container.id&&(this.droppedItem=this.lowPriorityTaskList[t.currentIndex],this.droppedItem.priority="3"),this.PrepCrudData())}ViewTask(t){this.commonDataService.redirectorPage="Reshuffle",this.commonDataService.itemToUpdateOrView=t,this.router.navigate(["/create"])}PrepCrudData(){const t=new FormData;t.append("taskid",this.droppedItem.id),t.append("message",this.droppedItem.message),t.append("due_date",this.droppedItem.due_date),t.append("priority",this.droppedItem.priority),t.append("assigned_to",this.droppedItem.assigned_to),this.Save(t,"Edit")}Save(t,i){this.mastersService.SaveTask(t,i).pipe(Object(d.a)(this.onDestroy)).subscribe(t=>{"success"==t.status?(this.successheader="SUCCESS",this.successmsg="Task priority has been updated successfully",this.SweetSuccess(),this.commonDataService.isNewTaskAdded.next(!0)):"error"==t.status&&(this.errormsg=t.error,this.SweetFailure())},t=>{this.errormsg="Unable to update task priority",this.SweetFailure()})}SweetSuccess(){h.a.fire(this.successheader+"!",this.successmsg,"success")}SweetFailure(){h.a.fire("Failed",this.errormsg,"error")}ngOnDestroy(){this.onDestroy.next()}}return t.\u0275fac=function(i){return new(i||t)(u.Jb(p.b),u.Jb(p.a),u.Jb(p.c),u.Jb(u.l),u.Jb(s.c),u.Jb(g.g),u.Jb(p.d),u.Jb(m.b),u.Jb(u.h))},t.\u0275cmp=u.Db({type:t,selectors:[["app-reshuffle"]],decls:38,vars:18,consts:[[1,"wrapper"],[1,"main-panel"],[1,"content"],[1,"page-inner"],[1,"row"],[1,"col-md-1"],[1,"col-sm-12","col-md-10"],[1,"card","mb-0"],[1,"card-header"],[1,"d-flex","align-items-center","justify-content-between"],[1,"page-title"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],[1,"card-body"],[2,"display","flex","justify-content","space-between"],["cdkDropList","","id","dropList1",2,"width","30%",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["firstList","cdkDropList"],[1,"shuffleListHeader"],[1,"popWrapper"],["class","pop","cdkDrag","",4,"ngFor","ngForOf"],["cdkDropList","","id","dropList2",2,"width","30%",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["secondList","cdkDropList"],["cdkDropList","","id","dropList3",2,"width","30%",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["thirdList","cdkDropList"],["cdkDrag","",1,"pop"],[1,"taskData"],[1,"viewTaskDetail",3,"click"],[1,"fa","fa-eye"]],template:function(t,i){if(1&t&&(u.Pb(0,"div",0),u.Kb(1,"app-header"),u.Pb(2,"div",1),u.Pb(3,"div",2),u.Pb(4,"div",3),u.Pb(5,"div",4),u.Kb(6,"div",5),u.Pb(7,"div",6),u.Pb(8,"div",7),u.Pb(9,"div",8),u.Pb(10,"div",9),u.Pb(11,"h4",10),u.Cc(12,"Reshuffle Task"),u.Ob(),u.Kb(13,"div"),u.Pb(14,"button",11),u.Wb("click",(function(){return i.RouteToPage("back")})),u.Cc(15,"Back"),u.Ob(),u.Ob(),u.Ob(),u.Pb(16,"div",12),u.Pb(17,"form"),u.Pb(18,"div",13),u.Pb(19,"div",14,15),u.Wb("cdkDropListDropped",(function(t){return i.drop(t)})),u.Pb(21,"span",16),u.Cc(22,"High"),u.Ob(),u.Pb(23,"div",17),u.Ac(24,P,11,2,"div",18),u.Ob(),u.Ob(),u.Pb(25,"div",19,20),u.Wb("cdkDropListDropped",(function(t){return i.drop(t)})),u.Pb(27,"span",16),u.Cc(28,"Medium"),u.Ob(),u.Pb(29,"div",17),u.Ac(30,O,11,2,"div",18),u.Ob(),u.Ob(),u.Pb(31,"div",21,22),u.Wb("cdkDropListDropped",(function(t){return i.drop(t)})),u.Pb(33,"span",16),u.Cc(34,"Low"),u.Ob(),u.Pb(35,"div",17),u.Ac(36,v,11,2,"div",18),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Kb(37,"div",5),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&t){const t=u.rc(20),e=u.rc(26),s=u.rc(32);u.yb(19),u.fc("cdkDropListData",i.highPriorityTaskList)("cdkDropListConnectedTo",u.jc(9,y,e,s)),u.yb(5),u.fc("ngForOf",i.highPriorityTaskList),u.yb(1),u.fc("cdkDropListData",i.mediumPriorityTaskList)("cdkDropListConnectedTo",u.jc(12,y,t,s)),u.yb(5),u.fc("ngForOf",i.mediumPriorityTaskList),u.yb(1),u.fc("cdkDropListData",i.lowPriorityTaskList)("cdkDropListConnectedTo",u.jc(15,y,t,e)),u.yb(5),u.fc("ngForOf",i.lowPriorityTaskList)}},directives:[f.a,k.k,k.f,k.g,b.b,r.k,b.a],styles:[".popWrapper{height:60vh;width:100%;box-shadow:0 5px 15px rgba(0,0,0,.35);padding:20px 10px;overflow:auto;background-color:hsla(0,0%,100%,.7)}.pop{height:50px;width:90%;margin:3px auto;border:2px solid rgba(54,173,167,.2);border-radius:5px;overflow:hidden;display:block;position:relative;padding-left:10px}.pop .taskData{padding:0;margin:0}.pop .taskData span{font-weight:700}.pop .viewTaskDetail{position:absolute;display:flex;justify-content:center;align-items:center;height:100%;width:50px;background-color:rgba(54,173,167,.5);top:0;right:0}.pop .viewTaskDetail i{font-size:16px}.cdk-drop-list-dragging .cdk-drag{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating{transition:transform .3s cubic-bezier(0,0,.2,1)}.shuffleListHeader{margin-left:20px;width:100%;text-transform:uppercase;font-weight:700;display:flex;justify-content:center}"],encapsulation:2}),t})();var L=e("njyG");function w(t,i){1&t&&(u.Pb(0,"span",37),u.Cc(1,"Low"),u.Ob())}function C(t,i){if(1&t){const t=u.Qb();u.Pb(0,"span",38),u.Wb("click",(function(){u.tc(t);const i=u.Yb().$implicit;return u.Yb().SweetConfirm(i,"update")})),u.Cc(1,"Pending"),u.Ob()}}function T(t,i){1&t&&(u.Pb(0,"span",39),u.Cc(1,"Medium"),u.Ob())}function S(t,i){1&t&&(u.Pb(0,"span",40),u.Cc(1,"High"),u.Ob())}function I(t,i){if(1&t){const t=u.Qb();u.Pb(0,"tr"),u.Pb(1,"td"),u.Cc(2),u.Ob(),u.Pb(3,"td"),u.Cc(4),u.Ob(),u.Pb(5,"td"),u.Cc(6),u.Ob(),u.Pb(7,"td",26),u.Cc(8),u.Zb(9,"date"),u.Ob(),u.Pb(10,"td",26),u.Cc(11),u.Zb(12,"date"),u.Ob(),u.Pb(13,"td",26),u.Ac(14,w,2,0,"span",27),u.Ac(15,C,2,0,"span",28),u.Ac(16,T,2,0,"span",29),u.Ac(17,S,2,0,"span",30),u.Ob(),u.Pb(18,"td",26),u.Pb(19,"div",31),u.Pb(20,"button",32),u.Wb("click",(function(){u.tc(t);const e=i.$implicit;return u.Yb().UpdateTask(e)})),u.Kb(21,"i",33),u.Ob(),u.Ob(),u.Ob(),u.Pb(22,"td",34),u.Wb("click",(function(){u.tc(t);const e=i.$implicit;return u.Yb().SweetConfirm(e.id)})),u.Pb(23,"div",31),u.Pb(24,"button",35),u.Pb(25,"h3"),u.Kb(26,"i",36),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&t){const t=i.$implicit;u.yb(2),u.Dc(t.id),u.yb(2),u.Dc(t.message),u.yb(2),u.Dc(t.assigned_name),u.yb(2),u.Ec("",u.bc(9,9,t.created_on,"d-MMM-yyyy HH:mm")," "),u.yb(3),u.Ec("",u.bc(12,12,t.due_date,"d-MMM-yyyy HH:mm")," "),u.yb(3),u.fc("ngIf","3"==t.priority),u.yb(1),u.fc("ngIf","PFA"==t.status),u.yb(1),u.fc("ngIf","2"==t.priority),u.yb(1),u.fc("ngIf","1"==t.priority)}}const x=function(t){return{active:t}},J=s.g.forChild([{path:"update",component:(()=>{class t{constructor(t,i,e,s,r,a,n,o,d){this.commonMethodService=t,this.commonDataService=i,this.mastersService=e,this.el=s,this.router=r,this.primeNgMessageService=a,this.notificationService=n,this.spinner=o,this.cd=d,this.onDestroy=new c.a,this.dtOptions={},this.dtData=[],this.dtTrigger=new c.a,this.taskList=[],this.commonDataService.isTaskListReloaded.subscribe(t=>{t&&this.LoadTaskList()})}ngOnInit(){this.isLink1=!0,this.isLink2=!1,this.dtOptions={pagingType:"simple_numbers",pageLength:5},null==this.commonDataService.oClientConfigurationsFromJsonFile&&null!=localStorage.getItem("config")&&(this.commonDataService.oClientConfigurationsFromJsonFile=JSON.parse(localStorage.getItem("config")))}ngAfterViewInit(){this.dtTrigger.next(),this.LoadTaskList()}RouteToPage(t){"back"==t?this.router.navigate(["/home"]):"reshuffle"==t&&this.router.navigate(["/modify/reshuffle"])}LoadTaskList(){this.rerender(),null==this.commonDataService.taskList?null!=localStorage.getItem("taskList")&&(this.taskList=JSON.parse(localStorage.getItem("taskList"))):this.taskList=this.commonDataService.taskList}UpdateTask(t){this.commonDataService.redirectorPage="Update",this.commonDataService.itemToUpdateOrView=t,this.router.navigate(["/create"])}PrepCrudData(t){const i=new FormData;i.append("taskid",t),this.Save(i)}Save(t){this.mastersService.DeleteTask(t).pipe(Object(d.a)(this.onDestroy)).subscribe(t=>{"success"==t.status?(this.commonDataService.isNewTaskAdded.next(!0),this.successheader="SUCCESS",this.successmsg="Task has been deleted successfully",this.SweetSuccess()):"error"==t.status&&(this.errormsg=t.error,this.SweetFailure())},t=>{this.errormsg="Unable to delete task",this.SweetFailure()})}SweetConfirm(t){let i="";i="Are you sure you want to delete this task?",this.errormsg="Delete cancelled",h.a.fire({title:"Please confirm",text:"Are you sure you want to delete this task?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No"}).then(i=>{i.value&&this.PrepCrudData(t)})}SweetSuccess(){h.a.fire(this.successheader+"!",this.successmsg,"success")}SweetFailure(){h.a.fire("Failed",this.errormsg,"error")}rerender(){this.dtElement.dtInstance.then(t=>{t.destroy(),this.dtTrigger.next()})}ngOnDestroy(){this.onDestroy.next(),this.dtTrigger.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(u.Jb(p.b),u.Jb(p.a),u.Jb(p.c),u.Jb(u.l),u.Jb(s.c),u.Jb(g.g),u.Jb(p.d),u.Jb(m.b),u.Jb(u.h))},t.\u0275cmp=u.Db({type:t,selectors:[["app-main"]],viewQuery:function(t,i){var e;1&t&&u.Gc(L.a,!0),2&t&&u.qc(e=u.Xb())&&(i.dtElement=e.first)},decls:48,vars:9,consts:[[1,"wrapper"],[1,"main-panel"],[1,"content"],[1,"page-inner"],[1,"row"],[1,"col-md-1"],[1,"col-sm-12","col-md-10"],[1,"card","mb-0"],[1,"card-header"],[1,"d-flex","align-items-center"],[1,"page-title"],["role","tablist",1,"nav","nav-pills","nav-default","nav-pills-no-bd","nav-sm","ml-auto"],[1,"nav-item"],[1,"nav-link",3,"ngClass"],[1,"nav-link",3,"ngClass","click"],[1,"seperator"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","table-sm","hover",3,"dtOptions","dtTrigger"],["width","5%"],["width","11%"],["width","11%",1,"text-center"],["width","8%",1,"text-center"],["width","3%",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary handcursor",3,"click",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"form-button-action"],["type","button","data-toggle","modal","data-target","#addDept","title","","data-original-title","Edit",1,"btn","btn-link","btn-primary","btn-lg",3,"click"],[1,"fa","fa-edit"],[1,"text-center",3,"click"],["type","button","data-toggle","tooltip","title","","data-original-title","Delete","aria-describedby","tooltip352135",1,"btn","btn-link","btn-danger"],[1,"fa","fa-times"],[1,"badge","badge-success"],[1,"badge","badge-secondary","handcursor",3,"click"],[1,"badge","badge-warning"],[1,"badge","badge-danger"]],template:function(t,i){1&t&&(u.Pb(0,"div",0),u.Kb(1,"app-header"),u.Pb(2,"div",1),u.Pb(3,"div",2),u.Pb(4,"div",3),u.Pb(5,"div",4),u.Kb(6,"div",5),u.Pb(7,"div",6),u.Pb(8,"div",7),u.Pb(9,"div",8),u.Pb(10,"div",9),u.Pb(11,"h4",10),u.Pb(12,"span"),u.Cc(13,"Update Task"),u.Ob(),u.Ob(),u.Pb(14,"ul",11),u.Pb(15,"li",12),u.Pb(16,"a",13),u.Cc(17,"Update"),u.Ob(),u.Ob(),u.Pb(18,"li",12),u.Pb(19,"a",14),u.Wb("click",(function(){return i.RouteToPage("reshuffle")})),u.Cc(20,"Reshuffle"),u.Ob(),u.Ob(),u.Kb(21,"div",15),u.Pb(22,"button",16),u.Wb("click",(function(){return i.RouteToPage("back")})),u.Cc(23,"Back"),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(24,"div",17),u.Pb(25,"div",18),u.Pb(26,"table",19),u.Pb(27,"thead"),u.Pb(28,"tr"),u.Pb(29,"th",20),u.Cc(30,"Id"),u.Ob(),u.Pb(31,"th"),u.Cc(32,"Task Description"),u.Ob(),u.Pb(33,"th",21),u.Cc(34,"Assigned To"),u.Ob(),u.Pb(35,"th",22),u.Cc(36,"Created On"),u.Ob(),u.Pb(37,"th",22),u.Cc(38,"Due Date"),u.Ob(),u.Pb(39,"th",23),u.Cc(40,"Prirotiy"),u.Ob(),u.Pb(41,"th",24),u.Cc(42,"Edit"),u.Ob(),u.Pb(43,"th",24),u.Cc(44,"Delete"),u.Ob(),u.Ob(),u.Ob(),u.Pb(45,"tbody"),u.Ac(46,I,27,15,"tr",25),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Kb(47,"div",5),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&t&&(u.yb(16),u.fc("ngClass",u.ic(5,x,i.isLink1)),u.yb(3),u.fc("ngClass",u.ic(7,x,i.isLink2)),u.yb(7),u.fc("dtOptions",i.dtOptions)("dtTrigger",i.dtTrigger),u.yb(20),u.fc("ngForOf",i.taskList))},directives:[f.a,r.j,L.a,r.k,r.l],pipes:[r.e],styles:[".seperator[_ngcontent-%COMP%]{height:40px;width:1px;background-color:rgba(0,0,0,.1);margin:0 20px}"]}),t})(),canActivate:[o.a]},{path:"reshuffle",component:D,canActivate:[o.a]}]);let F=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(i){return new(i||t)},imports:[[r.c,a.a,J,n.a]]}),t})()}}]);