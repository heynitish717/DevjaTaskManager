!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{aGCp:function(i,n,a){"use strict";a.r(n),a.d(n,"TaskReportModule",(function(){return I}));var r=a("tyNb"),o=a("ofXK"),s=a("Mm0v"),b=a("LPYB"),c=a("OWtv"),l=a("XNiG"),d=a("jfZ1"),g=a("njyG"),u=a("fXoL"),h=a("7zfz"),p=a("JqCM"),m=a("VJ5I"),f=a("3Pt+"),y=a("eO1q"),O=a("arFO"),v=["reportForm"];function P(t,e){1&t&&(u.Pb(0,"span",42),u.Cc(1,"Low"),u.Ob())}function k(t,e){if(1&t){var i=u.Qb();u.Pb(0,"span",43),u.Wb("click",(function(){u.tc(i);var t=u.Yb().$implicit;return u.Yb().SweetConfirm(t,"update")})),u.Cc(1,"Pending"),u.Ob()}}function D(t,e){1&t&&(u.Pb(0,"span",44),u.Cc(1,"Medium"),u.Ob())}function L(t,e){1&t&&(u.Pb(0,"span",45),u.Cc(1,"High"),u.Ob())}function C(t,e){if(1&t){var i=u.Qb();u.Pb(0,"tr"),u.Pb(1,"td"),u.Cc(2),u.Ob(),u.Pb(3,"td"),u.Cc(4),u.Ob(),u.Pb(5,"td"),u.Cc(6),u.Ob(),u.Pb(7,"td",34),u.Cc(8),u.Zb(9,"date"),u.Ob(),u.Pb(10,"td",34),u.Cc(11),u.Zb(12,"date"),u.Ob(),u.Pb(13,"td",34),u.Ac(14,P,2,0,"span",35),u.Ac(15,k,2,0,"span",36),u.Ac(16,D,2,0,"span",37),u.Ac(17,L,2,0,"span",38),u.Ob(),u.Pb(18,"td",34),u.Pb(19,"div",39),u.Pb(20,"button",40),u.Wb("click",(function(){u.tc(i);var t=e.$implicit;return u.Yb().ViewTask(t)})),u.Kb(21,"i",41),u.Ob(),u.Ob(),u.Ob(),u.Ob()}if(2&t){var n=e.$implicit;u.yb(2),u.Dc(n.id),u.yb(2),u.Dc(n.message),u.yb(2),u.Dc(n.assigned_name),u.yb(2),u.Ec("",u.bc(9,9,n.created_on,"d-MMM-yyyy HH:mm")," "),u.yb(3),u.Ec("",u.bc(12,12,n.due_date,"d-MMM-yyyy HH:mm")," "),u.yb(3),u.fc("ngIf","3"==n.priority),u.yb(1),u.fc("ngIf","PFA"==n.status),u.yb(1),u.fc("ngIf","2"==n.priority),u.yb(1),u.fc("ngIf","1"==n.priority)}}var S,w,M=r.g.forChild([{path:"",component:(S=function(){function i(e,n,a,r,o,s,b,c,d){t(this,i),this.commonMethodService=e,this.commonDataService=n,this.mastersService=a,this.el=r,this.router=o,this.primeNgMessageService=s,this.notificationService=b,this.spinner=c,this.cd=d,this.onDestroy=new l.a,this.dtOptions={},this.dtData=[],this.dtTrigger=new l.a}var n,a,r;return n=i,(a=[{key:"ngOnInit",value:function(){this.fromDate=null,this.toDate=null,this.selectedAssignee=null,this.selectedPriority=null,this.dtOptions={pagingType:"simple_numbers",pageLength:5},null==this.commonDataService.oClientConfigurationsFromJsonFile&&null!=localStorage.getItem("config")&&(this.commonDataService.oClientConfigurationsFromJsonFile=JSON.parse(localStorage.getItem("config"))),null==this.commonDataService.userList?null!=localStorage.getItem("userList")&&(this.assigneeList=JSON.parse(localStorage.getItem("userList"))):this.assigneeList=this.commonDataService.userList,null==this.commonDataService.priorityList?null!=localStorage.getItem("priorityList")&&(this.priorityList=JSON.parse(localStorage.getItem("priorityList"))):this.priorityList=this.commonDataService.priorityList}},{key:"ngAfterViewInit",value:function(){this.dtTrigger.next(),this.LoadTaskList()}},{key:"RouteToPage",value:function(t){"back"==t?this.router.navigate(["/home"]):"reshuffle"==t&&this.router.navigate(["/modify/reshuffle"])}},{key:"LoadTaskList",value:function(){this.rerender(),null==this.commonDataService.taskList||void 0===this.commonDataService.taskList?null!=localStorage.getItem("taskList")&&(this.originalList=this.taskList=JSON.parse(localStorage.getItem("taskList"))):this.originalList=this.taskList=JSON.parse(JSON.stringify(this.commonDataService.taskList))}},{key:"GetReportsList",value:function(){var t=this;if(this.rerender(),this.taskList=this.originalList,null!=this.fromDate&&null!=this.toDate){for(var e=[],i=0;i<this.taskList.length;i++){var n=this.GetDate(this.taskList[i].due_date);this.fromDate<=n&&n<=this.toDate&&e.push(this.taskList[i])}this.taskList=e}null!=this.selectedAssignee&&(this.taskList=this.taskList.filter((function(e){return e.assigned_to==t.selectedAssignee.id}))),null!=this.selectedPriority&&(this.taskList=this.taskList.filter((function(e){return e.priority==t.selectedPriority.id}))),null==this.fromDate&&null==this.toDate&&null==this.selectedAssignee&&null==this.selectedPriority&&(this.taskList=JSON.parse(JSON.stringify(this.commonDataService.taskList)))}},{key:"GetDate",value:function(t){var e=t.split(" ")[0],i=Number(e.split("-")[0]),n=Number(e.split("-")[1]),a=Number(e.split("-")[2]);return new Date(i,n-1,a)}},{key:"ViewTask",value:function(t){this.commonDataService.redirectorPage="Report",this.commonDataService.itemToUpdateOrView=t,this.router.navigate(["/create"])}},{key:"ResetForm",value:function(){this.reportForm.reset(),this.LoadTaskList()}},{key:"rerender",value:function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next(),this.dtTrigger.unsubscribe()}}])&&e(n.prototype,a),r&&e(n,r),i}(),S.\u0275fac=function(t){return new(t||S)(u.Jb(d.b),u.Jb(d.a),u.Jb(d.c),u.Jb(u.l),u.Jb(r.c),u.Jb(h.g),u.Jb(d.d),u.Jb(p.b),u.Jb(u.h))},S.\u0275cmp=u.Db({type:S,selectors:[["app-report"]],viewQuery:function(t,e){var i;1&t&&(u.Gc(g.a,!0),u.Gc(v,!0)),2&t&&(u.qc(i=u.Xb())&&(e.dtElement=i.first),u.qc(i=u.Xb())&&(e.reportForm=i.first))},decls:75,vars:13,consts:[[1,"wrapper"],[1,"main-panel"],[1,"content"],[1,"page-inner"],[1,"row"],[1,"col-md-1"],[1,"col-sm-12","col-md-10"],[1,"card","mb-0"],[1,"card-header"],[1,"d-flex","align-items-center"],[1,"page-title"],["role","tablist",1,"nav","nav-pills","nav-default","nav-pills-no-bd","nav-sm","ml-auto"],["type","button",1,"btn","btn-primary","mr-1",3,"click"],[1,"card-body"],[1,"bg-grey2","p-3"],["reportForm","ngForm"],[1,"col-sm-12","col-md-6","col-lg-4"],[1,"form-group"],["dateFormat","dd-M-y","name","fromDate","placeholder","Select Start Date","name","fromDate","inputId","icon1","appendTo","body",3,"ngModel","showIcon","readonlyInput","ngModelChange"],["dateFormat","dd-M-y","name","toDate","name","toDate","placeholder","Select End Date","inputId","icon","placeholder","Select Assignee","appendTo","body",3,"ngModel","showIcon","minDate","ngModelChange"],["name","selectedAssignee","placeholder","Select Assignee","editable"," true","optionLabel","name",3,"options","ngModel","ngModelChange"],["name","selectedPriority","placeholder","Select Priority","editable","true","optionLabel","name",3,"options","ngModel","ngModelChange"],[1,"col-sm-6","col-md-4","col-lg-4"],["type","submit",1,"form-control","btn","btn-primary","text-white","mr-1",3,"click"],[1,"col-sm-6","col-md-2","col-lg-2"],["type","button",1,"form-control","btn","btn-primary","text-white",3,"click"],[1,"table-responsive"],["datatable","",1,"table","table-striped","table-bordered","table-sm","hover",3,"dtOptions","dtTrigger"],["width","5%"],["width","11%"],["width","11%",1,"text-center"],["width","8%",1,"text-center"],["width","3%",1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-center"],["class","badge badge-success",4,"ngIf"],["class","badge badge-secondary handcursor",3,"click",4,"ngIf"],["class","badge badge-warning",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"form-button-action"],["type","button","data-toggle","modal","data-target","#addDept","title","","data-original-title","Edit",1,"btn","btn-link","btn-primary","btn-lg",3,"click"],[1,"fa","fa-edit"],[1,"badge","badge-success"],[1,"badge","badge-secondary","handcursor",3,"click"],[1,"badge","badge-warning"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(u.Pb(0,"div",0),u.Kb(1,"app-header"),u.Pb(2,"div",1),u.Pb(3,"div",2),u.Pb(4,"div",3),u.Pb(5,"div",4),u.Kb(6,"div",5),u.Pb(7,"div",6),u.Pb(8,"div",7),u.Pb(9,"div",8),u.Pb(10,"div",9),u.Pb(11,"h4",10),u.Pb(12,"span"),u.Cc(13,"Task Report"),u.Ob(),u.Ob(),u.Pb(14,"ul",11),u.Pb(15,"button",12),u.Wb("click",(function(){return e.RouteToPage("back")})),u.Cc(16,"Back"),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(17,"div",13),u.Pb(18,"div",14),u.Pb(19,"form",null,15),u.Pb(21,"div",4),u.Pb(22,"div",16),u.Pb(23,"div",17),u.Pb(24,"label"),u.Cc(25,"Start Date"),u.Ob(),u.Pb(26,"p-calendar",18),u.Wb("ngModelChange",(function(t){return e.fromDate=t})),u.Ob(),u.Ob(),u.Ob(),u.Pb(27,"div",16),u.Pb(28,"div",17),u.Pb(29,"label"),u.Cc(30,"End Date"),u.Ob(),u.Pb(31,"p-calendar",19),u.Wb("ngModelChange",(function(t){return e.toDate=t})),u.Ob(),u.Ob(),u.Ob(),u.Pb(32,"div",16),u.Pb(33,"div",17),u.Pb(34,"label"),u.Cc(35,"Assignee"),u.Ob(),u.Pb(36,"p-dropdown",20),u.Wb("ngModelChange",(function(t){return e.selectedAssignee=t})),u.Ob(),u.Ob(),u.Ob(),u.Pb(37,"div",16),u.Pb(38,"div",17),u.Pb(39,"label"),u.Cc(40,"Priority"),u.Ob(),u.Pb(41,"p-dropdown",21),u.Wb("ngModelChange",(function(t){return e.selectedPriority=t})),u.Ob(),u.Ob(),u.Ob(),u.Pb(42,"div",22),u.Pb(43,"div",17),u.Pb(44,"label"),u.Cc(45,"\xa0"),u.Ob(),u.Pb(46,"button",23),u.Wb("click",(function(){return e.GetReportsList()})),u.Cc(47,"Generate"),u.Ob(),u.Ob(),u.Ob(),u.Pb(48,"div",24),u.Pb(49,"div",17),u.Pb(50,"label"),u.Cc(51,"\xa0"),u.Ob(),u.Pb(52,"button",25),u.Wb("click",(function(){return e.ResetForm()})),u.Cc(53,"Reset"),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(54,"div",26),u.Pb(55,"table",27),u.Pb(56,"thead"),u.Pb(57,"tr"),u.Pb(58,"th",28),u.Cc(59,"Id"),u.Ob(),u.Pb(60,"th"),u.Cc(61,"Task Description"),u.Ob(),u.Pb(62,"th",29),u.Cc(63,"Assigned To"),u.Ob(),u.Pb(64,"th",30),u.Cc(65,"Created On"),u.Ob(),u.Pb(66,"th",30),u.Cc(67,"Due Date"),u.Ob(),u.Pb(68,"th",31),u.Cc(69,"Prirotiy"),u.Ob(),u.Pb(70,"th",32),u.Cc(71,"View"),u.Ob(),u.Ob(),u.Ob(),u.Pb(72,"tbody"),u.Ac(73,C,22,15,"tr",33),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Kb(74,"div",5),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&t&&(u.yb(26),u.fc("ngModel",e.fromDate)("showIcon",!0)("readonlyInput",!0),u.yb(5),u.fc("ngModel",e.toDate)("showIcon",!0)("minDate",e.fromDate),u.yb(5),u.fc("options",e.assigneeList)("ngModel",e.selectedAssignee),u.yb(5),u.fc("options",e.priorityList)("ngModel",e.selectedPriority),u.yb(14),u.fc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),u.yb(18),u.fc("ngForOf",e.taskList))},directives:[m.a,f.k,f.f,f.g,y.a,f.e,f.h,O.a,g.a,o.k,o.l],pipes:[o.e],styles:[""]}),S),canActivate:[c.a]}]),I=((w=function e(){t(this,e)}).\u0275mod=u.Hb({type:w}),w.\u0275inj=u.Gb({factory:function(t){return new(t||w)},imports:[[o.c,s.a,M,b.a]]}),w)}}])}();